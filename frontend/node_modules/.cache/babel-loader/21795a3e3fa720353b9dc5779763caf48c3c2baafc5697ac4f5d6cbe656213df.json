{"ast":null,"code":"import api from \"./apiClient\";\nconst TOKEN_KEY = process.env.REACT_APP_TOKEN_KEY || \"auth_token\";\nexport const loginUser = async (username, password) => {\n  const res = await api.post(\"/auth/login\", {\n    username,\n    password\n  });\n  // Response is an object with token property\n  const token = res.data.token || res.data;\n  if (typeof window !== \"undefined\" && window.localStorage) {\n    localStorage.setItem(TOKEN_KEY, token);\n  }\n  // Return the full response data so login.jsx can check response.token\n  return res.data;\n};\nexport const setupEmployeePassword = async (email, password) => {\n  const res = await api.post(\"/auth/setup-password\", {\n    email,\n    password\n  });\n  return res.data;\n};\nexport const logoutUser = () => {\n  if (typeof window !== \"undefined\" && window.localStorage) {\n    localStorage.removeItem(TOKEN_KEY);\n  }\n};","map":{"version":3,"names":["api","TOKEN_KEY","process","env","REACT_APP_TOKEN_KEY","loginUser","username","password","res","post","token","data","window","localStorage","setItem","setupEmployeePassword","email","logoutUser","removeItem"],"sources":["E:/EMS/frontend/src/api/authService.js"],"sourcesContent":["import api from \"./apiClient\";\r\n\r\nconst TOKEN_KEY = process.env.REACT_APP_TOKEN_KEY || \"auth_token\";\r\n\r\nexport const loginUser = async (username, password) => {\r\n    const res = await api.post(\"/auth/login\", { username, password });\r\n    // Response is an object with token property\r\n    const token = res.data.token || res.data;\r\n    if (typeof window !== \"undefined\" && window.localStorage) {\r\n        localStorage.setItem(TOKEN_KEY, token);\r\n    }\r\n    // Return the full response data so login.jsx can check response.token\r\n    return res.data;\r\n};\r\n\r\nexport const setupEmployeePassword = async (email, password) => {\r\n    const res = await api.post(\"/auth/setup-password\", { email, password });\r\n    return res.data;\r\n};\r\n\r\nexport const logoutUser = () => {\r\n    if (typeof window !== \"undefined\" && window.localStorage) {\r\n        localStorage.removeItem(TOKEN_KEY);\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,aAAa;AAE7B,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,IAAI,YAAY;AAEjE,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACnD,MAAMC,GAAG,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,aAAa,EAAE;IAAEH,QAAQ;IAAEC;EAAS,CAAC,CAAC;EACjE;EACA,MAAMG,KAAK,GAAGF,GAAG,CAACG,IAAI,CAACD,KAAK,IAAIF,GAAG,CAACG,IAAI;EACxC,IAAI,OAAOC,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,YAAY,EAAE;IACtDA,YAAY,CAACC,OAAO,CAACb,SAAS,EAAES,KAAK,CAAC;EAC1C;EACA;EACA,OAAOF,GAAG,CAACG,IAAI;AACnB,CAAC;AAED,OAAO,MAAMI,qBAAqB,GAAG,MAAAA,CAAOC,KAAK,EAAET,QAAQ,KAAK;EAC5D,MAAMC,GAAG,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,sBAAsB,EAAE;IAAEO,KAAK;IAAET;EAAS,CAAC,CAAC;EACvE,OAAOC,GAAG,CAACG,IAAI;AACnB,CAAC;AAED,OAAO,MAAMM,UAAU,GAAGA,CAAA,KAAM;EAC5B,IAAI,OAAOL,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,YAAY,EAAE;IACtDA,YAAY,CAACK,UAAU,CAACjB,SAAS,CAAC;EACtC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}