{"ast":null,"code":"import{useState,useEffect,useContext}from'react';import{AuthContext}from'../../context/AuthContext';import{getCurrentEmployee}from'../../api/employeeService';import{Card,Input}from'../../components/ui';import{useToast}from'../../hooks/useToast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EmployeeProfile(){var _employee$department;const{user}=useContext(AuthContext);const[employee,setEmployee]=useState(null);const[loading,setLoading]=useState(true);const toast=useToast();useEffect(()=>{const fetchEmployeeData=async()=>{try{const data=await getCurrentEmployee();setEmployee(data);}catch(error){toast.error('Failed to fetch employee data');console.error('Error fetching employee:',error);}finally{setLoading(false);}};if(user!==null&&user!==void 0&&user.username){fetchEmployeeData();}},[user===null||user===void 0?void 0:user.username,toast]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading profile...\"});if(!employee)return/*#__PURE__*/_jsx(\"div\",{children:\"No employee data found\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"My Profile\"}),/*#__PURE__*/_jsx(Card,{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6 space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"First Name\"}),/*#__PURE__*/_jsx(Input,{value:employee.firstName,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Last Name\"}),/*#__PURE__*/_jsx(Input,{value:employee.lastName,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{value:employee.email,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Position\"}),/*#__PURE__*/_jsx(Input,{value:employee.position||'N/A',disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Salary\"}),/*#__PURE__*/_jsx(Input,{value:employee.salary?\"$\".concat(employee.salary):'N/A',disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Department\"}),/*#__PURE__*/_jsx(Input,{value:((_employee$department=employee.department)===null||_employee$department===void 0?void 0:_employee$department.name)||'N/A',disabled:true})]})]})})})]});}","map":{"version":3,"names":["useState","useEffect","useContext","AuthContext","getCurrentEmployee","Card","Input","useToast","jsx","_jsx","jsxs","_jsxs","EmployeeProfile","_employee$department","user","employee","setEmployee","loading","setLoading","toast","fetchEmployeeData","data","error","console","username","children","className","value","firstName","disabled","lastName","email","position","salary","concat","department","name"],"sources":["E:/EMS/frontend/src/pages/employees/EmployeeProfile.jsx"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { getCurrentEmployee } from '../../api/employeeService';\r\nimport { Card, Input } from '../../components/ui';\r\nimport { useToast } from '../../hooks/useToast';\r\n\r\nexport default function EmployeeProfile() {\r\n    const { user } = useContext(AuthContext);\r\n    const [employee, setEmployee] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const toast = useToast();\r\n\r\n    useEffect(() => {\r\n        const fetchEmployeeData = async () => {\r\n            try {\r\n                const data = await getCurrentEmployee();\r\n                setEmployee(data);\r\n            } catch (error) {\r\n                toast.error('Failed to fetch employee data');\r\n                console.error('Error fetching employee:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (user?.username) {\r\n            fetchEmployeeData();\r\n        }\r\n    }, [user?.username, toast]);\r\n\r\n    if (loading) return <div>Loading profile...</div>;\r\n\r\n    if (!employee) return <div>No employee data found</div>;\r\n\r\n    return (\r\n        <div>\r\n            <h1 className=\"text-2xl font-bold mb-6\">My Profile</h1>\r\n            <Card className=\"max-w-2xl mx-auto\">\r\n                <div className=\"p-6 space-y-4\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">First Name</label>\r\n                            <Input value={employee.firstName} disabled />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Last Name</label>\r\n                            <Input value={employee.lastName} disabled />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\r\n                            <Input value={employee.email} disabled />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Position</label>\r\n                            <Input value={employee.position || 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Salary</label>\r\n                            <Input value={employee.salary ? `$${employee.salary}` : 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Department</label>\r\n                            <Input value={employee.department?.name || 'N/A'} disabled />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}