{"ast":null,"code":"import api from './apiClient';\n\n// Get all attendance records\nexport const getAttendanceRecords = async () => (await api.get('/attendance')).data;\n\n// Get attendance by user\nexport const getAttendanceByUser = async userId => (await api.get(`/attendance/user/${userId}`)).data;\n\n// Mark attendance\nexport const markAttendance = async data => (await api.post('/attendance', data)).data;\n\n// Mark attendance for current user\nexport const markAttendanceForCurrentUser = async type => (await api.post('/attendance/mark', {\n  type\n})).data;\n\n// Get leave requests\nexport const getLeaveRequests = async () => (await api.get('/leaves/pending')).data;\n\n// Approve leave request\nexport const approveLeave = async leaveId => (await api.put(`/leaves/approve/${leaveId}`)).data;\n\n// Reject leave request\nexport const rejectLeave = async leaveId => (await api.put(`/leaves/reject/${leaveId}`)).data;\n\n// Get attendance by employee username\nexport const getAttendanceByEmployee = async username => {\n  try {\n    const response = await api.get(`/attendance/employee/${username}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching attendance by employee:', error);\n    throw error;\n  }\n};\n\n// Get current employee's attendance\nexport const getMyAttendance = async () => {\n  try {\n    const response = await api.get('/attendance/my-attendance');\n    return response.data;\n  } catch (error) {\n    var _error$response;\n    console.error('Error fetching my attendance:', error);\n    // Add more detailed error information\n    if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 403) {\n      console.error('Access forbidden - user may not have EMPLOYEE role');\n    }\n    throw error;\n  }\n};","map":{"version":3,"names":["api","getAttendanceRecords","get","data","getAttendanceByUser","userId","markAttendance","post","markAttendanceForCurrentUser","type","getLeaveRequests","approveLeave","leaveId","put","rejectLeave","getAttendanceByEmployee","username","response","error","console","getMyAttendance","_error$response","status"],"sources":["E:/EMS/frontend/src/api/attendanceService.js"],"sourcesContent":["import api from './apiClient';\r\n\r\n// Get all attendance records\r\nexport const getAttendanceRecords = async () => (await api.get('/attendance')).data;\r\n\r\n// Get attendance by user\r\nexport const getAttendanceByUser = async (userId) => (await api.get(`/attendance/user/${userId}`)).data;\r\n\r\n// Mark attendance\r\nexport const markAttendance = async (data) => (await api.post('/attendance', data)).data;\r\n\r\n// Mark attendance for current user\r\nexport const markAttendanceForCurrentUser = async (type) => (await api.post('/attendance/mark', { type })).data;\r\n\r\n// Get leave requests\r\nexport const getLeaveRequests = async () => (await api.get('/leaves/pending')).data;\r\n\r\n// Approve leave request\r\nexport const approveLeave = async (leaveId) => (await api.put(`/leaves/approve/${leaveId}`)).data;\r\n\r\n// Reject leave request\r\nexport const rejectLeave = async (leaveId) => (await api.put(`/leaves/reject/${leaveId}`)).data;\r\n\r\n// Get attendance by employee username\r\nexport const getAttendanceByEmployee = async (username) => {\r\n    try {\r\n        const response = await api.get(`/attendance/employee/${username}`);\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Error fetching attendance by employee:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// Get current employee's attendance\r\nexport const getMyAttendance = async () => {\r\n    try {\r\n        const response = await api.get('/attendance/my-attendance');\r\n        return response.data;\r\n    } catch (error) {\r\n        console.error('Error fetching my attendance:', error);\r\n        // Add more detailed error information\r\n        if (error.response?.status === 403) {\r\n            console.error('Access forbidden - user may not have EMPLOYEE role');\r\n        }\r\n        throw error;\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,aAAa;;AAE7B;AACA,OAAO,MAAMC,oBAAoB,GAAG,MAAAA,CAAA,KAAY,CAAC,MAAMD,GAAG,CAACE,GAAG,CAAC,aAAa,CAAC,EAAEC,IAAI;;AAEnF;AACA,OAAO,MAAMC,mBAAmB,GAAG,MAAOC,MAAM,IAAK,CAAC,MAAML,GAAG,CAACE,GAAG,CAAC,oBAAoBG,MAAM,EAAE,CAAC,EAAEF,IAAI;;AAEvG;AACA,OAAO,MAAMG,cAAc,GAAG,MAAOH,IAAI,IAAK,CAAC,MAAMH,GAAG,CAACO,IAAI,CAAC,aAAa,EAAEJ,IAAI,CAAC,EAAEA,IAAI;;AAExF;AACA,OAAO,MAAMK,4BAA4B,GAAG,MAAOC,IAAI,IAAK,CAAC,MAAMT,GAAG,CAACO,IAAI,CAAC,kBAAkB,EAAE;EAAEE;AAAK,CAAC,CAAC,EAAEN,IAAI;;AAE/G;AACA,OAAO,MAAMO,gBAAgB,GAAG,MAAAA,CAAA,KAAY,CAAC,MAAMV,GAAG,CAACE,GAAG,CAAC,iBAAiB,CAAC,EAAEC,IAAI;;AAEnF;AACA,OAAO,MAAMQ,YAAY,GAAG,MAAOC,OAAO,IAAK,CAAC,MAAMZ,GAAG,CAACa,GAAG,CAAC,mBAAmBD,OAAO,EAAE,CAAC,EAAET,IAAI;;AAEjG;AACA,OAAO,MAAMW,WAAW,GAAG,MAAOF,OAAO,IAAK,CAAC,MAAMZ,GAAG,CAACa,GAAG,CAAC,kBAAkBD,OAAO,EAAE,CAAC,EAAET,IAAI;;AAE/F;AACA,OAAO,MAAMY,uBAAuB,GAAG,MAAOC,QAAQ,IAAK;EACvD,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMjB,GAAG,CAACE,GAAG,CAAC,wBAAwBc,QAAQ,EAAE,CAAC;IAClE,OAAOC,QAAQ,CAACd,IAAI;EACxB,CAAC,CAAC,OAAOe,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAC9D,MAAMA,KAAK;EACf;AACJ,CAAC;;AAED;AACA,OAAO,MAAME,eAAe,GAAG,MAAAA,CAAA,KAAY;EACvC,IAAI;IACA,MAAMH,QAAQ,GAAG,MAAMjB,GAAG,CAACE,GAAG,CAAC,2BAA2B,CAAC;IAC3D,OAAOe,QAAQ,CAACd,IAAI;EACxB,CAAC,CAAC,OAAOe,KAAK,EAAE;IAAA,IAAAG,eAAA;IACZF,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD;IACA,IAAI,EAAAG,eAAA,GAAAH,KAAK,CAACD,QAAQ,cAAAI,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;MAChCH,OAAO,CAACD,KAAK,CAAC,oDAAoD,CAAC;IACvE;IACA,MAAMA,KAAK;EACf;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}