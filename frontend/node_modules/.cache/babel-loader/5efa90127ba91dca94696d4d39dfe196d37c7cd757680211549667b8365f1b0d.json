{"ast":null,"code":"var _jsxFileName = \"E:\\\\EMS\\\\frontend\\\\src\\\\pages\\\\employees\\\\EmployeeAttendance.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport { getAttendanceByEmployee } from '../../api/attendanceService';\nimport { Card } from '../../components/ui';\nimport { useToast } from '../../hooks/useToast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmployeeAttendance() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [attendance, setAttendance] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const toast = useToast();\n  useEffect(() => {\n    const fetchAttendanceData = async () => {\n      try {\n        // Assuming there's an endpoint to get attendance by employee username\n        // You might need to adjust this based on your actual API\n        const data = await getAttendanceByEmployee(user.username);\n        setAttendance(data);\n      } catch (error) {\n        toast.error('Failed to fetch attendance data');\n        console.error('Error fetching attendance:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (user !== null && user !== void 0 && user.username) {\n      fetchAttendanceData();\n    }\n  }, [user === null || user === void 0 ? void 0 : user.username, toast]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading attendance records...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: \"My Attendance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4\",\n      children: attendance.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500\",\n          children: \"No attendance records found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this) : attendance.map(record => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold\",\n              children: [\"Date: \", new Date(record.checkIn).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Check In: \", new Date(record.checkIn).toLocaleTimeString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 37\n            }, this), record.checkOut && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: [\"Check Out: \", new Date(record.checkOut).toLocaleTimeString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `px-3 py-1 rounded-full text-sm font-medium ${record.checkOut ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`,\n              children: record.checkOut ? 'Completed' : 'Active'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }, this)\n      }, record.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n_s(EmployeeAttendance, \"mhL4Aq0FrpjCKcn8v1ob6eBZgOQ=\", false, function () {\n  return [useToast];\n});\n_c = EmployeeAttendance;\nvar _c;\n$RefreshReg$(_c, \"EmployeeAttendance\");","map":{"version":3,"names":["useState","useEffect","useContext","AuthContext","getAttendanceByEmployee","Card","useToast","jsxDEV","_jsxDEV","EmployeeAttendance","_s","user","attendance","setAttendance","loading","setLoading","toast","fetchAttendanceData","data","username","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","record","Date","checkIn","toLocaleDateString","toLocaleTimeString","checkOut","id","_c","$RefreshReg$"],"sources":["E:/EMS/frontend/src/pages/employees/EmployeeAttendance.jsx"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { getAttendanceByEmployee } from '../../api/attendanceService';\r\nimport { Card } from '../../components/ui';\r\nimport { useToast } from '../../hooks/useToast';\r\n\r\nexport default function EmployeeAttendance() {\r\n    const { user } = useContext(AuthContext);\r\n    const [attendance, setAttendance] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const toast = useToast();\r\n\r\n    useEffect(() => {\r\n        const fetchAttendanceData = async () => {\r\n            try {\r\n                // Assuming there's an endpoint to get attendance by employee username\r\n                // You might need to adjust this based on your actual API\r\n                const data = await getAttendanceByEmployee(user.username);\r\n                setAttendance(data);\r\n            } catch (error) {\r\n                toast.error('Failed to fetch attendance data');\r\n                console.error('Error fetching attendance:', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (user?.username) {\r\n            fetchAttendanceData();\r\n        }\r\n    }, [user?.username, toast]);\r\n\r\n    if (loading) return <div>Loading attendance records...</div>;\r\n\r\n    return (\r\n        <div>\r\n            <h1 className=\"text-2xl font-bold mb-6\">My Attendance</h1>\r\n            <div className=\"grid gap-4\">\r\n                {attendance.length === 0 ? (\r\n                    <Card className=\"p-6\">\r\n                        <div className=\"text-center text-gray-500\">No attendance records found</div>\r\n                    </Card>\r\n                ) : (\r\n                    attendance.map((record) => (\r\n                        <Card key={record.id} className=\"p-6\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <div>\r\n                                    <div className=\"font-semibold\">\r\n                                        Date: {new Date(record.checkIn).toLocaleDateString()}\r\n                                    </div>\r\n                                    <div className=\"text-sm text-gray-600\">\r\n                                        Check In: {new Date(record.checkIn).toLocaleTimeString()}\r\n                                    </div>\r\n                                    {record.checkOut && (\r\n                                        <div className=\"text-sm text-gray-600\">\r\n                                            Check Out: {new Date(record.checkOut).toLocaleTimeString()}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <div className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n                                        record.checkOut ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'\r\n                                    }`}>\r\n                                        {record.checkOut ? 'Completed' : 'Active'}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Card>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}