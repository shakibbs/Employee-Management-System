{"ast":null,"code":"import _objectSpread from\"E:/EMS/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Input,Button,Select}from'../ui';import{useState,useEffect,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserForm(_ref){let{initialData={},onSubmit,loading}=_ref;const[form,setForm]=useState(_objectSpread({username:'',name:'',email:'',password:'',role:'USER',phone:'',address:''},initialData));useEffect(()=>{if(initialData&&Object.keys(initialData).length>0){setForm(prevForm=>_objectSpread(_objectSpread({},prevForm),initialData));}},[JSON.stringify(initialData)]);const handleChange=useCallback(e=>{const{name,value}=e.target;setForm(prevForm=>_objectSpread(_objectSpread({},prevForm),{},{[name]:value}));},[]);const submitHandler=e=>{e.preventDefault();onSubmit(form);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:\"bg-white p-8 rounded-lg shadow-lg max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"Username (Required)\",name:\"username\",value:form.username,onChange:handleChange,required:true,placeholder:\"Enter unique username\",autoComplete:\"username\"}),/*#__PURE__*/_jsx(Input,{label:\"Full Name (Required)\",name:\"name\",value:form.name,onChange:handleChange,required:true,placeholder:\"Enter full name\",autoComplete:\"name\"}),/*#__PURE__*/_jsx(Input,{label:\"Email Address (Required)\",name:\"email\",type:\"email\",value:form.email,onChange:handleChange,required:true,placeholder:\"Enter unique email\",autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"Phone Number (Required)\",name:\"phone\",value:form.phone,onChange:handleChange,required:true,placeholder:\"Enter phone number\",autoComplete:\"tel\"}),/*#__PURE__*/_jsx(Input,{label:\"Address (Optional)\",name:\"address\",value:form.address,onChange:handleChange,placeholder:\"Enter address\",autoComplete:\"street-address\"}),!initialData.id&&/*#__PURE__*/_jsx(Input,{label:\"Password (Required)\",name:\"password\",type:\"password\",value:form.password,onChange:handleChange,required:true,placeholder:\"Enter password\",autoComplete:\"new-password\"})]})]}),/*#__PURE__*/_jsx(Select,{label:\"User Role (Required)\",name:\"role\",value:form.role,onChange:handleChange,options:[{label:'Admin',value:'ADMIN'},{label:'HR',value:'HR'},{label:'User',value:'USER'}]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"mt-4\",disabled:loading,children:loading?'Saving...':'Save'})]});}","map":{"version":3,"names":["Input","Button","Select","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","UserForm","_ref","initialData","onSubmit","loading","form","setForm","_objectSpread","username","name","email","password","role","phone","address","Object","keys","length","prevForm","JSON","stringify","handleChange","e","value","target","submitHandler","preventDefault","className","children","label","onChange","required","placeholder","autoComplete","type","id","options","disabled"],"sources":["E:/EMS/frontend/src/components/forms/UserForm.jsx"],"sourcesContent":["import { Input, Button, Select } from '../ui';\r\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\nexport default function UserForm({ initialData = {}, onSubmit, loading }) {\r\n    const [form, setForm] = useState({\r\n        username: '',\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        role: 'USER',\r\n        phone: '',\r\n        address: '',\r\n        ...initialData,\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (initialData && Object.keys(initialData).length > 0) {\r\n            setForm(prevForm => ({ ...prevForm, ...initialData }));\r\n        }\r\n    }, [JSON.stringify(initialData)]);\r\n\r\n    const handleChange = useCallback((e) => {\r\n        const { name, value } = e.target;\r\n        setForm(prevForm => ({ ...prevForm, [name]: value }));\r\n    }, []);\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        onSubmit(form);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={submitHandler} className=\"bg-white p-8 rounded-lg shadow-lg max-w-2xl mx-auto\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-4\">\r\n                    <Input label=\"Username (Required)\" name=\"username\" value={form.username} onChange={handleChange} required placeholder=\"Enter unique username\" autoComplete=\"username\" />\r\n                    <Input label=\"Full Name (Required)\" name=\"name\" value={form.name} onChange={handleChange} required placeholder=\"Enter full name\" autoComplete=\"name\" />\r\n                    <Input label=\"Email Address (Required)\" name=\"email\" type=\"email\" value={form.email} onChange={handleChange} required placeholder=\"Enter unique email\" autoComplete=\"email\" />\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                    <Input label=\"Phone Number (Required)\" name=\"phone\" value={form.phone} onChange={handleChange} required placeholder=\"Enter phone number\" autoComplete=\"tel\" />\r\n                    <Input label=\"Address (Optional)\" name=\"address\" value={form.address} onChange={handleChange} placeholder=\"Enter address\" autoComplete=\"street-address\" />\r\n                    {!initialData.id && <Input label=\"Password (Required)\" name=\"password\" type=\"password\" value={form.password} onChange={handleChange} required placeholder=\"Enter password\" autoComplete=\"new-password\" />}\r\n                </div>\r\n            </div>\r\n            <Select\r\n                label=\"User Role (Required)\"\r\n                name=\"role\"\r\n                value={form.role}\r\n                onChange={handleChange}\r\n                options={[\r\n                    { label: 'Admin', value: 'ADMIN' },\r\n                    { label: 'HR', value: 'HR' },\r\n                    { label: 'User', value: 'USER' },\r\n                ]}\r\n            />\r\n            <Button type=\"submit\" className=\"mt-4\" disabled={loading}>\r\n                {loading ? 'Saving...' : 'Save'}\r\n            </Button>\r\n        </form>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}